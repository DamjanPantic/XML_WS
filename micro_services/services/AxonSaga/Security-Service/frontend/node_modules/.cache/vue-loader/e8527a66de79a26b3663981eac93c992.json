{"remainingRequest":"/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/src/components/Login.vue","mtime":1586808007000},{"path":"/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbG9naW4nLAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvZ2luRXJyb3I6IGZhbHNlLAogICAgICB1c2VyOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBlcnJvcjogZmFsc2UsCiAgICAgIGVycm9yczogW10KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbGxMb2dpbigpIHsKICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImxvZ2luIiwgeyB1c2VyOiB0aGlzLnVzZXIsIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL1Byb3RlY3RlZCcpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgdGhpcy5sb2dpbkVycm9yID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZXJyb3IpOwogICAgICAgICAgdGhpcy5lcnJvciA9IHRydWUKICAgICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"unprotected\" v-if=\"loginError\">\n    <h1><b-badge variant=\"danger\">You don't have rights here, mate :D</b-badge></h1>\n    <h5>Seams that you don't have access rights... </h5>\n  </div>\n  <div class=\"unprotected\" v-else>\n    <h1><b-badge variant=\"info\">Please login to get access!</b-badge></h1>\n    <h5>You're not logged in - so you don't see much here. Try to log in:</h5>\n\n    <form @submit.prevent=\"callLogin()\">\n      <input type=\"text\" placeholder=\"username\" v-model=\"user\">\n      <input type=\"password\" placeholder=\"password\" v-model=\"password\">\n      <b-btn variant=\"success\" type=\"submit\">Login</b-btn>\n      <p v-if=\"error\" class=\"error\">Bad login information</p>\n    </form>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: 'login',\n\n  data () {\n    return {\n      loginError: false,\n      user: '',\n      password: '',\n      error: false,\n      errors: []\n    }\n  },\n  methods: {\n    callLogin() {\n      this.errors = [];\n      this.$store.dispatch(\"login\", { user: this.user, password: this.password})\n        .then(() => {\n          this.$router.push('/Protected')\n        })\n        .catch(error => {\n          this.loginError = true;\n          this.errors.push(error);\n          this.error = true\n        })\n    }\n  }\n}\n</script>"]}]}