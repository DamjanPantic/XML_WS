{"remainingRequest":"/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/node_modules/babel-loader/lib/index.js!/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/src/store.js","dependencies":[{"path":"/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/src/store.js","mtime":1586808007000},{"path":"/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBhcGkgZnJvbSAnLi9jb21wb25lbnRzL2JhY2tlbmQtYXBpJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBsb2dpblN1Y2Nlc3M6IGZhbHNlLAogICAgbG9naW5FcnJvcjogZmFsc2UsCiAgICB1c2VyTmFtZTogbnVsbCwKICAgIHVzZXJQYXNzOiBudWxsCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGxvZ2luX3N1Y2Nlc3M6IGZ1bmN0aW9uIGxvZ2luX3N1Y2Nlc3Moc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUubG9naW5TdWNjZXNzID0gdHJ1ZTsKICAgICAgc3RhdGUudXNlck5hbWUgPSBwYXlsb2FkLnVzZXJOYW1lOwogICAgICBzdGF0ZS51c2VyUGFzcyA9IHBheWxvYWQudXNlclBhc3M7CiAgICB9LAogICAgbG9naW5fZXJyb3I6IGZ1bmN0aW9uIGxvZ2luX2Vycm9yKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmxvZ2luRXJyb3IgPSB0cnVlOwogICAgICBzdGF0ZS51c2VyTmFtZSA9IHBheWxvYWQudXNlck5hbWU7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICB2YXIgdXNlciA9IF9yZWYyLnVzZXIsCiAgICAgICAgICBwYXNzd29yZCA9IF9yZWYyLnBhc3N3b3JkOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbnNvbGUubG9nKCJBY2Nlc3NpbmcgYmFja2VuZCB3aXRoIHVzZXI6ICciICsgdXNlcik7CiAgICAgICAgYXBpLmdldFNlY3VyZWQodXNlciwgcGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiUmVzcG9uc2U6ICciICsgcmVzcG9uc2UuZGF0YSArICInIHdpdGggU3RhdHVzY29kZSAiICsgcmVzcG9uc2Uuc3RhdHVzKTsKCiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiTG9naW4gc3VjY2Vzc2Z1bCIpOyAvLyBwbGFjZSB0aGUgbG9naW5TdWNjZXNzIHN0YXRlIGludG8gb3VyIHZ1ZXggc3RvcmUKCiAgICAgICAgICAgIGNvbW1pdCgnbG9naW5fc3VjY2VzcycsIHsKICAgICAgICAgICAgICB1c2VyTmFtZTogdXNlciwKICAgICAgICAgICAgICB1c2VyUGFzczogcGFzc3dvcmQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3I6ICIgKyBlcnJvcik7IC8vIHBsYWNlIHRoZSBsb2dpbkVycm9yIHN0YXRlIGludG8gb3VyIHZ1ZXggc3RvcmUKCiAgICAgICAgICBjb21taXQoJ2xvZ2luX2Vycm9yJywgewogICAgICAgICAgICB1c2VyTmFtZTogdXNlcgogICAgICAgICAgfSk7CiAgICAgICAgICByZWplY3QoIkludmFsaWQgY3JlZGVudGlhbHMhIik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gaXNMb2dnZWRJbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9naW5TdWNjZXNzOwogICAgfSwKICAgIGhhc0xvZ2luRXJyb3JlZDogZnVuY3Rpb24gaGFzTG9naW5FcnJvcmVkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5sb2dpbkVycm9yOwogICAgfSwKICAgIGdldFVzZXJOYW1lOiBmdW5jdGlvbiBnZXRVc2VyTmFtZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlck5hbWU7CiAgICB9LAogICAgZ2V0VXNlclBhc3M6IGZ1bmN0aW9uIGdldFVzZXJQYXNzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyUGFzczsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/Users/milutinzeljkovic/Bezbednost/bsep-proj/frontend/src/store.js"],"names":["Vue","Vuex","api","use","Store","state","loginSuccess","loginError","userName","userPass","mutations","login_success","payload","login_error","actions","login","commit","user","password","Promise","resolve","reject","console","log","getSecured","then","response","data","status","catch","error","getters","isLoggedIn","hasLoginErrored","getUserName","getUserPass"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,GAAP,MAAgB,0BAAhB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,YAAY,EAAE,KADX;AAEHC,IAAAA,UAAU,EAAE,KAFT;AAGHC,IAAAA,QAAQ,EAAE,IAHP;AAIHC,IAAAA,QAAQ,EAAE;AAJP,GADmB;AAO1BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,aADO,yBACON,KADP,EACcO,OADd,EACsB;AACzBP,MAAAA,KAAK,CAACC,YAAN,GAAqB,IAArB;AACAD,MAAAA,KAAK,CAACG,QAAN,GAAiBI,OAAO,CAACJ,QAAzB;AACAH,MAAAA,KAAK,CAACI,QAAN,GAAiBG,OAAO,CAACH,QAAzB;AACH,KALM;AAMPI,IAAAA,WANO,uBAMKR,KANL,EAMYO,OANZ,EAMoB;AACvBP,MAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACAF,MAAAA,KAAK,CAACG,QAAN,GAAiBI,OAAO,CAACJ,QAAzB;AACH;AATM,GAPe;AAkB1BM,EAAAA,OAAO,EAAE;AACLC,IAAAA,KADK,8BAC6B;AAAA,UAA3BC,MAA2B,QAA3BA,MAA2B;AAAA,UAAjBC,IAAiB,SAAjBA,IAAiB;AAAA,UAAXC,QAAW,SAAXA,QAAW;AAC9B,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,QAAAA,OAAO,CAACC,GAAR,CAAY,mCAAmCN,IAA/C;AACAf,QAAAA,GAAG,CAACsB,UAAJ,CAAeP,IAAf,EAAqBC,QAArB,EACKO,IADL,CACU,UAAAC,QAAQ,EAAI;AACdJ,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBG,QAAQ,CAACC,IAAzB,GAAgC,oBAAhC,GAAuDD,QAAQ,CAACE,MAA5E;;AACA,cAAGF,QAAQ,CAACE,MAAT,IAAmB,GAAtB,EAA2B;AACvBN,YAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EADuB,CAEvB;;AACAP,YAAAA,MAAM,CAAC,eAAD,EAAkB;AACpBR,cAAAA,QAAQ,EAAES,IADU;AAEpBR,cAAAA,QAAQ,EAAES;AAFU,aAAlB,CAAN;AAIH;;AACDE,UAAAA,OAAO,CAACM,QAAD,CAAP;AACH,SAZL,EAaKG,KAbL,CAaW,UAAAC,KAAK,EAAI;AACZR,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAYO,KAAxB,EADY,CAEZ;;AACAd,UAAAA,MAAM,CAAC,aAAD,EAAgB;AAClBR,YAAAA,QAAQ,EAAES;AADQ,WAAhB,CAAN;AAGAI,UAAAA,MAAM,CAAC,sBAAD,CAAN;AACH,SApBL;AAqBH,OAvBM,CAAP;AAwBH;AA1BI,GAlBiB;AA8C1BU,EAAAA,OAAO,EAAE;AACLC,IAAAA,UAAU,EAAE,oBAAA3B,KAAK;AAAA,aAAIA,KAAK,CAACC,YAAV;AAAA,KADZ;AAEL2B,IAAAA,eAAe,EAAE,yBAAA5B,KAAK;AAAA,aAAIA,KAAK,CAACE,UAAV;AAAA,KAFjB;AAGL2B,IAAAA,WAAW,EAAE,qBAAA7B,KAAK;AAAA,aAAIA,KAAK,CAACG,QAAV;AAAA,KAHb;AAIL2B,IAAAA,WAAW,EAAE,qBAAA9B,KAAK;AAAA,aAAIA,KAAK,CAACI,QAAV;AAAA;AAJb;AA9CiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport api from './components/backend-api'\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    state: {\n        loginSuccess: false,\n        loginError: false,\n        userName: null,\n        userPass: null\n    },\n    mutations: {\n        login_success(state, payload){\n            state.loginSuccess = true;\n            state.userName = payload.userName;\n            state.userPass = payload.userPass;\n        },\n        login_error(state, payload){\n            state.loginError = true;\n            state.userName = payload.userName;\n        }\n    },\n    actions: {\n        login({commit}, {user, password}) {\n            return new Promise((resolve, reject) => {\n                console.log(\"Accessing backend with user: '\" + user);\n                api.getSecured(user, password)\n                    .then(response => {\n                        console.log(\"Response: '\" + response.data + \"' with Statuscode \" + response.status);\n                        if(response.status == 200) {\n                            console.log(\"Login successful\");\n                            // place the loginSuccess state into our vuex store\n                            commit('login_success', {\n                                userName: user,\n                                userPass: password\n                            });\n                        }\n                        resolve(response)\n                    })\n                    .catch(error => {\n                        console.log(\"Error: \" + error);\n                        // place the loginError state into our vuex store\n                        commit('login_error', {\n                            userName: user\n                        });\n                        reject(\"Invalid credentials!\")\n                    })\n            })\n        }\n    },\n    getters: {\n        isLoggedIn: state => state.loginSuccess,\n        hasLoginErrored: state => state.loginError,\n        getUserName: state => state.userName,\n        getUserPass: state => state.userPass\n    }\n})"]}]}